from os.path import dirname, join
from bokeh.models.annotations import Title
from bokeh.plotting import figure
from bokeh.layouts import layout, column, gridplot, widgetbox, row
from bokeh.models.widgets import DataTable, DateFormatter, TableColumn
from bokeh.models import ColumnDataSource, Div, Slider, Select, TextInput, RangeSlider, MultiSelect, CheckboxGroup, AutocompleteInput, Panel, Tabs, HoverTool
from bokeh.io import curdoc, output_file, show, output_notebook
import numpy as np
import pandas as pd
from math import pi
import math 

hist_x_axis = ['Skill', 'Weak Foot', 'Pace', 'Shooting', 'Passing', 'Dribbling', 'Defending', 'Physicality', 'Height']

club3 = Select(title="Clubs", value = 'Any', options=['Any'] + fifa.sort_values('Club').Club.unique().tolist())
league3 = Select(title="Leagues", value = 'Any', options=['Any'] + fifa.sort_values('League').League.unique().tolist())
country3 = Select(title="Countries", value = 'Any', options=['Any'] + fifa.sort_values('Country').Country.unique().tolist())
position3 = Select(title="Position Groups", value = 'Any', options=['Any'] + fifa.sort_values('Position Group')['Position Group'].unique().tolist())
skills3 = Select(title="Skills", value = 'Shooting', options=hist_x_axis)

TOOLTIPS=[
         ("Player", "@player"),
         ("Overall Rating", "@overallrating"),
         ("Club", "@club"),
         ("League", "@league"),
         ("Country", "@country"),
         ("Position", "@position")
]
p3 = figure(title="Histogram for Pace", background_fill_color="#fafafa", plot_height=700, plot_width=900)
hist, edges = np.histogram(fifa['Pace'], density=False, bins=20)
p3.quad(top=hist, bottom=0, left=edges[:-1], right=edges[1:],
        fill_color="navy", line_color="black", alpha=0.5)

show(column(row(club3, league3, country3, position3),row(skills3, p3)))
